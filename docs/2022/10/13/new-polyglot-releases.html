<!DOCTYPE html>
<html lang='en'>
<head>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async='' src='https://www.googletagmanager.com/gtag/js?id=UA-137924462-1'></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-137924462-1');
</script>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<title>Korny's Blog</title>
<meta content='' name='description'>
<meta content='width=device-width, initial-scale=1.0' name='viewport'>
<link href='/favicon.ico' rel='icon' type='image/ico'>
<link href='/favicon.ico' rel='shortcut' type='image/ico'>
<link href='http://blog.korny.info/feed.xml' rel='alternate' type='application/atom+xml'>
<link href='http://blog.korny.info/clojure-feed.xml' rel='alternate' type='application/atom+xml'>
<link href='http://fonts.googleapis.com/css?family=Cousine:400,700,400italic,700italic&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Vollkorn:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Playfair+Display:400,700,900,400italic,700italic,900italic' type='text/css'>
<link href="/stylesheets/site.css" rel="stylesheet" />
</head>
<body>
<!--[if lt IE 9]> <p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p> <![endif]-->
<section class='container'>
<header>
<h1>
<a href='http://blog.korny.info'>Korny's Blog</a>
</h1>
</header>
<section class='blog'>
<div class='main' role='main'><article>
<header>
<h1>New polyglot code tools releases</h1>
<time>Oct 13 2022</time>
</header>
<p>My sabbatical is winding up, I naturally got far less coding done than I expected!  Our lovely daughter has had a big sleep regression, so a lot of my focus has been on just getting through life rather than perfecting my code.</p>

<p>Still, I have actually achieved quite a lot, now that I go back and look at it - so I thought it was time for an updated blog post.</p>

<p>See <a href="/2020/09/06/introducing-the-polyglot-code-explorer.html">My initial announcement</a> or  <a href="https://polyglot.korny.info">The main Polyglot Code Tools site</a> if you want more background.</p>

<p>Major changes:</p>

<ul>
  <li>Viewing activity by teams</li>
  <li>Saving and loading settings</li>
  <li>Moving to TypeScript for the explorer</li>
  <li>Quite a few refactorings</li>
</ul>

<h2 id="viewing-by-teams">Viewing by Teams</h2>

<p>I put this at the top as it is the area that is most useful for users!</p>

<p>I'm a huge fan of the <a href="https://www.goodreads.com/book/show/44135420-team-topologies">Team Topologies book</a> - the Team should be the core unit of delivery in a well functioning agile organisation.</p>

<p>So, when investigating codebases, I wanted to be able to tell which teams were operating in which areas, and how they overlap.  The end result is a view like this:</p>

<p><img src="/2022-polyglot/polyglot-062-top-teams.png" alt="New UI with top teams" /></p>

<p>This does need a caveat though - you need to create team information yourself!  Git doesn't tell me which user is in which team.  (In fact you also need to do a fair bit of work merging users, as git doesn't tell me that <code>foo@bar.com</code> is actually the same user as <code>Fulvio_Barrington@gmail.com</code> â€¦)</p>

<p>There is also a view that tries to show where multiple teams overlap, using SVG patterns - this is a bit experimental, but might be useful:</p>

<p><img src="/2022-polyglot/top-teams-patterned.png" alt="Top Teams - patterned" /></p>

<p>And you can focus on a single team (or a single user!) to see just their contribution compared to everyone else:</p>

<p><img src="/2022-polyglot/single-team-impact.png" alt="Single team impact" /></p>

<p>Here blue is the selected team, red is other users, and colours in between show overlap.  Also brighter colours show more change, darker show less.</p>

<h2 id="saving-and-loading-settings">Saving and loading settings</h2>

<p>Creating teams is a fair bit of manual work, and the Explorer, prior to version 0.6.0, was entirely stateless - there was no way to save that work!</p>

<p>Now, you can save the user and team settings, as well as all the other explorer settings, to JSON files or to browser local storage.  See <a href="https://polyglot.korny.info/tools/explorer/ui#saving-and-loading-settings">the docs</a> for more.</p>

<h2 id="moving-to-typescript">Moving to Typescript</h2>

<p>The explorer was originally written in pretty hacky JavaScript, with quite a bit of sloppy code - this is the side project of a busy parent after all!  However, I felt the need to clean things up, and also to learn TypeScript after all the good things I'd heard about it - so did the painful job of rebuilding with types.</p>

<p>And it was pretty painful in places.  I do love TypeScript now - it's a brilliant way to apply flexible types to a pretty terrible language.  But some things needed a quite different approach - and some areas, such as D3 visualisations, had almost no documentation at all.  D3 does have types - but very very few examples use them, and I had to do a lot of reading source code and relying on VSCode's excellent TS support to get it all working.</p>

<p>This does however mean that the code is a lot cleaner - I even have a few tests now!  So future changes will be less painful and less risky.</p>

<h2 id="other-refactorings">Other refactorings</h2>

<p>I won't go into all the details here, but I also took the chance to clean up a bunch of code.</p>

<p>On the rust side, I got rid of a lot of somewhat dubious generic logic I'd written using JSON <code>Value</code> types.  I'd foolishly tried to make the code too generic - I don't know why after 30+ years of coding I still make the same mistakes - I need to have "YAGNI" as a tattoo, just to remind me to keep things simple.</p>

<p>I also enabled all the linters and checks I could, both in rust and TypeScript.  Honestly this is one of the biggest coding improvements I've seen in the past decade or so - automated tooling has gotten so good at spotting errors and non-idiomatic code, it is wonderful, especially for learning languages.</p>

<h2 id="looking-to-the-future-and-for-feedback">Looking to the future, and for feedback</h2>

<p>I'm going back to work in a couple of weeks - yay!  (actually I do miss it - especially interacting with people outside my family).  But I will keep making changes, as I can.</p>

<p>I have a long-term plan to rework the whole Voronoi layout tool - that's probably the next thing on my list.  But I'd love feedback if people are using this - what is good? What sucks?  What would you like to see?</p>

<p>This blog has Disqus comments, but honestly I don't read them much - probably better to chat to me on <a href="https://twitter.com/kornys">twitter</a> or <a href="https://octodon.social/@Korny">mastodon</a> or face to face!  Or you can raise issues on github for specific bugs.</p>

<div id='disqus_thread'></div>
<script>
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'kornyblog';
  
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>
Please enable JavaScript to view the
<a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a>
</noscript>
<a class='dsq-brlink' href='http://disqus.com'>
comments powered by
<span class='logo-disqus'>Disqus</span>
</a>
</article>
</div>
<aside>
<h2>About Me</h2>
<p>
Korny (full name Kornelis Sietsma) is an Australian software developer currently working
for ThoughtWorks in the UK.  More info at
<a href='https://korny.info'>
korny.info
</a>
or
<a href='https://octodon.social/@Korny' rel='me'>
mastodon
</a>
or
<a href='https://twitter.com/kornys'>
twitter
</a>
</p>
<h2>Recent Articles</h2>
<ol>
<li>
<a href="/2022/11/05/is-mastodon-a-twitter-replacement.html">Is Mastodon a Twitter replacement?</a>
<span>Nov  5</span>
</li>
<li>
<a href="/2022/10/13/new-polyglot-releases.html">New polyglot code tools releases</a>
<span>Oct 13</span>
</li>
<li>
<a href="/2022/09/12/sabbatical.html">A geeky kind of sabbatical</a>
<span>Sep 12</span>
</li>
<li>
<a href="/2022/01/26/hiatus.html">Hiatus</a>
<span>Jan 26</span>
</li>
<li>
<a href="/2020/09/06/introducing-the-polyglot-code-explorer.html">Introducing the Polyglot Code Explorer</a>
<span>Sep  6</span>
</li>
<li>
<a href="/2020/07/19/better-d3-with-react.html">Better D3 sites with react</a>
<span>Jul 19</span>
</li>
<li>
<a href="/2020/03/19/gatsby-digital-garden.html">Building a personal digital garden with Gatsby</a>
<span>Mar 19</span>
</li>
<li>
<a href="/2020/02/10/multiple-git-identities.html">multiple git identities</a>
<span>Feb 10</span>
</li>
<li>
<a href="/2020/01/20/the-swiss-cheese-model-and-acceptance-tests.html">The swiss cheese model and acceptance tests</a>
<span>Jan 20</span>
</li>
<li>
<a href="/2019/04/08/ocr-hack-grabbing-text-from-the-screen-on-a-macbook.html">OCR Hack - grabbing text from the screen on a Macbook</a>
<span>Apr  8</span>
</li>
</ol>
<h2>Tags</h2>
<ol>
<li>
<a href="/tags/tech.html">tech</a>
(10)
</li>
<li>
<a href="/tags/social.html">social</a>
(1)
</li>
<li>
<a href="/tags/life.html">life</a>
(4)
</li>
<li>
<a href="/tags/testing-tech.html">testing tech</a>
(1)
</li>
<li>
<a href="/tags/meta.html">meta</a>
(1)
</li>
<li>
<a href="/tags/clojure.html">clojure</a>
(3)
</li>
</ol>
</aside>
</section>
<footer>
<p>
Copyright
<a href='http://korny.info'>Kornelis Sietsma</a>
2013-2020
</p>
</footer>
</section>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
  window.jQuery || document.write('<script src="javascripts/vendor/jquery-1.9.1.min.js"><\/script>')
</script>
<script src="/javascripts/site.js"></script>
</body>
</html>
